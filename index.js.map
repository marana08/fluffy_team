{"version":3,"file":"index.js","sources":["../src/js/refs.js","../src/img/sprite.svg","../src/js/storage.js","../src/js/animal-details-modal.js","../src/js/header.js","../src/js/server-api.js","../src/js/pets-list-section.js","../src/js/about-us-section.js","../src/js/faq-section.js","../src/js/success-stories-rndr.js","../src/js/success-stories-section.js","../src/js/focus.js","../src/js/order-modal.js","../src/js/scroll-top.js"],"sourcesContent":["export const refs = {\n    categoryList: document.querySelector('.js-category-list'),\n    petsList: document.querySelector('.js-pets-list'),\n    loader: document.querySelector('.js-loader'),\n    petsLoadMoreBtn: document.querySelector('.js-pets-load-more-btn'),\n    petsListPagination: document.querySelector('.pagination'),\n    animalDetailsBackdrop: document.querySelector('.animal-details-backdrop'),\n}\n\nexport const storiesParams = {\n    page: 1,\n    limit: 6,\n}\n\n\n\n","export default \"__VITE_ASSET__Bz9B486g__\"","export function saveToLS(key, value) {\n    try {\n        localStorage.setItem(key, JSON.stringify(value));\n    } catch (error) {\n        console.error('Error saving to LocalStorage:', error)\n    }\n}\n\nexport function loadFromLS(key) {\n    try {\n         const data = localStorage.getItem(key);\n        return data?  JSON.parse(data):null;\n    } catch (error) {\n        console.error('Error loading from LocalStorage:', error);\n        return null;\n    }\n}","import { refs } from \"./refs\";\nimport spriteUrl from \"../img/sprite.svg\";\nimport { loadFromLS } from \"./storage\";\n\nrefs.animalDetailsBackdrop.addEventListener('click', handleBackdropClick);\nlet animalId = null;\n\nexport function getAnimalId() {\n  return animalId;\n}\n\nexport function openAnimalModal(id) {\n  const allAnimals = loadFromLS('animals');\n  const animal = allAnimals.find(animal => animal._id === id);\n  if (!animal) return;\n\n  renderModal(animal);\n\n  refs.animalDetailsBackdrop.classList.add('is-open');\n  document.body.style.overflow = 'hidden';\n  const closeBtn = document.querySelector('.details-modal-close-btn');\n  window.addEventListener('keydown', handleEscPress);\n  closeBtn.addEventListener('click', handleCloseModalBtn);\n\n  const adoptBtn = document.querySelector('.modal-adopt-btn');\n  if (adoptBtn) {\n    adoptBtn.addEventListener('click', () => {\n      window.dispatchEvent(new CustomEvent('open-order-modal', {\n        detail: { animalId: animal._id },\n      }));\n    });\n  }\n}\n\nfunction renderModal({\n  _id,\n  name,\n  image,\n  species,\n  age,\n  gender,\n  description,\n  healthStatus,\n  behavior,\n}) {\n  const markup = `\n    <div class=\"animal-modal\" data-id=\"${_id}\" tabindex=\"-1\" role=\"dialog\">\n    <button\n      class=\"details-modal-close-btn\"\n      type=\"button\"\n      aria-label=\"Закрити модальне вікно\"\n    >\n      <svg class=\"details-modal-close-btn-icon\" width=\"24\" height=\"24\">\n        <use href=\"${spriteUrl}#icon-close\"></use>\n      </svg>\n    </button>\n    <div class=\"animal-modal-content\">\n      <div class=\"animal-modal-img-wrapper\">\n        <img class=\"animal-modal-img\" src=\"${image}\" alt=\"${name}-${species}\" />\n      </div>\n      <div class=\"animal-modal-info\">\n        <p class=\"animal-species\">${species}</p>\n        <h2 class=\"animal-name\">${name}</h2>\n        <div class=\"age-gender-wrapper\">\n          <p class=\"animal-age\">${age}</p>\n          <p class=\"animal-gender\">${gender}</p>\n        </div>\n        <div class=\"description-section\">\n          <h3 class=\"descriprion-title\">Опис:</h3>\n          <p class=\"descriprion-text\">${description}</p>\n        </div>\n        <div class=\"description-section\">\n          <h3 class=\"descriprion-title\">Здоров'я:</h3>\n          <p class=\"descriprion-text\">${healthStatus}</p>\n        </div>\n        <div class=\"description-section last\">\n          <h3 class=\"descriprion-title\">Поведінка:</h3>\n          <p class=\"descriprion-text\">${behavior}</p>\n        </div>\n        <button class=\"modal-adopt-btn\" type=\"button\">Взяти додому</button>\n      </div>\n    </div>\n  </div>\n  `;\n  refs.animalDetailsBackdrop.innerHTML = markup;\n}\nfunction handleCloseModalBtn() {\n  refs.animalDetailsBackdrop.classList.remove('is-open');\n  document.body.style.overflow = '';\n  window.removeEventListener('keydown', handleEscPress);\n\n  const lastFocused = getLastFocusedElement();\n  if (lastFocused) lastFocused.focus();\n}\nfunction handleEscPress(e) {\n  if (e.code === 'Escape') {\n    handleCloseModalBtn();\n  }\n}\nfunction handleBackdropClick(e) {\n  if (e.currentTarget !== e.target) return;\n  handleCloseModalBtn();\n}\n\nexport function trapFocus(modal) {\n  modal.focus()\n  const focusableSelectors = `\n    a[href],\n    button:not([disabled]),\n    textarea,\n    input,\n    select,\n    [tabindex]:not([tabindex=\"-1\"])\n  `;\n\n  const focusableElements = modal.querySelectorAll(focusableSelectors);\n  const firstEl = focusableElements[0];\n  const lastEl = focusableElements[focusableElements.length - 1];\n\n  modal.addEventListener('keydown', (e) => {\n    if (e.key !== 'Tab') return;\n\n    if (e.shiftKey && document.activeElement === firstEl) {\n      e.preventDefault();\n      lastEl.focus();\n    };\n    if (!e.shiftKey && document.activeElement === lastEl) {\n      e.preventDefault();\n      firstEl.focus();\n    }\n  });\n};\n","import { trapFocus } from \"./animal-details-modal\";\n\nconst menuButton = document.querySelector('.header-burger-menu');\nconst modal = document.querySelector('.header-modal');\nconst closeButton = document.querySelector('.modal-close-button');\nconst link = document.querySelector('.modal-navigation-item');\nconst nav = document.querySelector('.modal-navigation-list');\nconst takeButton = document.querySelector('.modal-button');\n\nfunction closeModal(event) {\n  modal.classList.remove('is-open');\n  document.body.classList.remove(\"is-modal-open\");\n  document.removeEventListener(\"keydown\", handleEscape);\n  menuButton.blur()\n}\n\nfunction handleEscape(event) {\n  if (event.key === \"Escape\") {\n    closeModal();\n  }\n}\n\ntakeButton.addEventListener('click', closeModal);\n\nmenuButton.addEventListener('click', event => {\n  event.preventDefault();\n  modal.classList.add('is-open');\n  document.body.classList.add(\"is-modal-open\");\n  document.addEventListener(\"keydown\", handleEscape);\n\n  trapFocus(modal);\n});\n\ncloseButton.addEventListener('click', closeModal);\nnav.addEventListener('click', event => {\n  if (event.target.classList.contains('modal-navigation-link')) {\n    closeModal();\n  }\n});\n","import axios from \"axios\";\nimport { storiesParams } from './refs';\n\nexport const BASE_URL = 'https://paw-hut.b.goit.study/api';\nexport const ENDPOINTS = {\n    animals: '/animals',\n    categories: '/categories',\n    orders: '/orders',\n    feedbacks: '/feedbacks',\n};\n\nexport const server = axios.create({\n    baseURL: BASE_URL,\n})\n\nexport async function getStories(page = storiesParams.page) {\n  try {\n    // Валідація параметрів\n    const validLimit = typeof storiesParams.limit === 'number' && storiesParams.limit > 0 \n      ? storiesParams.limit \n      : 6;\n    const validPage = typeof page === 'number' && page >= 1 \n      ? page \n      : 1;\n\n    const response = await server.get(`${ENDPOINTS.feedbacks}`, {\n      params: {\n        limit: validLimit,\n        page: validPage,\n      },\n    });\n    return response.data.feedbacks;\n  } catch (error) {\n    return null;\n  }\n}\n\n\n","import axios from \"axios\";\nimport iziToast from \"izitoast\";\nimport { ENDPOINTS, server } from \"./server-api\";\nimport { refs } from \"./refs\";\nimport { loadFromLS, saveToLS } from \"./storage\";\nimport spriteUrl from '/img/sprite.svg';\nimport {openAnimalModal } from \"./animal-details-modal\";\n\nlet limit = getLimitByScreen();\nlet page = loadFromLS('page');\nlet totalItems;\nlet categoryId = loadFromLS('categoryId') ?? null;\n\ndocument.addEventListener('DOMContentLoaded', handleContentLoad);\nrefs.petsLoadMoreBtn.addEventListener('click', handleLoadMoreBtnClick);\nrefs.categoryList.addEventListener('click', handleCategoryBtnClick);\nrefs.petsListPagination.addEventListener('click', handlePaginationClick);\nrefs.petsList.addEventListener('click', handlePetsListClick);\n\nfunction getLimitByScreen() {\n  const width = window.innerWidth;\n\n  if (width >= 1440) return 9;     \n  return 8;                      \n}\n\nfunction getTotalPages() {\n  return Math.ceil(totalItems / limit);\n}\n\n\n// --------------- handlers -------------------\n\nasync function handleContentLoad(e) {\n  showLoader();\n  page = 1;                \n  categoryId = null;        \n  saveToLS('page', 1);\n  saveToLS('categoryId', null);\n  try {\n    const categories = await fetchAllCategories();\n    const animals = await fetchAllAnimals(); \n    renderCategories(categories);\n    renderAnimals(animals);\n    renderPagination();\n    checkLoadMoreBtnStatus();\n  } catch (error) {\n      iziToast.error({\n          title: 'Помилка',\n          message: 'Щось пішло не так',\n          position: 'topRight',\n      })\n  } finally {\n      hideLoader();\n  }\n}\n\nasync function handleCategoryBtnClick(e) {\n  if (e.target.nodeName !== 'BUTTON') return;\n  const categoryName = e.target.textContent;\n  const categoryLi = e.target.closest('li');\n  categoryId = categoryLi.dataset.id; \n  page = 1;\n  let animals;\n  showLoader();\n\n  const allButtons = refs.categoryList.querySelectorAll('.category-btn');\n  allButtons.forEach(btn => {\n    btn.classList.remove('current');\n  });\n  \n  e.target.classList.add('current');\n\n  try {\n    if (categoryName !== 'Всі') {\n      animals = await fetchCategoryById(categoryId, page);\n    } else {\n      animals = await fetchAllAnimals();\n    }\n    renderAnimals(animals);    \n    checkLoadMoreBtnStatus(); \n    renderPagination();\n  } catch (error) {\n      iziToast.error({\n          title: 'Помилка',\n          message: 'Щось пішло не так',\n          position: 'topRight',\n      })\n  } finally {\n      hideLoader();\n      saveToLS('categoryId', categoryId);\n      saveToLS('page', page);\n  }\n}\n\n\nasync function handleLoadMoreBtnClick() {\n    page += 1;\n\n    refs.loader.classList.add('loader-center');\n    showLoader();\n\n    try {\n        if (!categoryId) {\n          checkLoadMoreBtnStatus();\n          const animals = await fetchAllAnimals(page);\n          const markup = animalsTemplate(animals);\n          refs.petsList.insertAdjacentHTML('beforeend', markup);\n          \n\n        } else {\n            checkLoadMoreBtnStatus();\n            const animals = await fetchCategoryById(categoryId, page);\n            const markup = animalsTemplate(animals);\n            refs.petsList.insertAdjacentHTML('beforeend', markup);\n        }\n\n        const firstCard = refs.petsList.querySelector('li');\n        if (firstCard) {\n            const cardRect = firstCard.getBoundingClientRect();\n            window.scrollBy({\n                top: cardRect.height, \n                behavior: 'smooth',\n            });\n        }\n    } catch (error) {\n        iziToast.error({\n            title: 'Помилка',\n            message: 'Щось пішло не так',\n            position: 'topRight',\n        })\n    } finally {\n        hideLoader();\n        saveToLS('page', page);\n        refs.loader.classList.remove('loader-center');\n    }  \n}\n\nasync function handlePaginationClick(e) {\n  const btn = e.target.closest('button');\n  if (!btn) return;\n\n  let animals;\n  \n  refs.loader.classList.add('loader-center');\n  showLoader();\n\n  const totalPages = getTotalPages();\n\n  if (btn.dataset.action === 'prev' && page > 1) {\n      page -= 1;\n  }\n\n  if (btn.dataset.action === 'next' && page < totalPages) {\n      page += 1;\n  }\n\n  if (btn.dataset.page) {\n      page = Number(btn.dataset.page);\n  }\n\n  try {\n      if (categoryId) {\n          animals = await fetchCategoryById(categoryId, page);\n      } else {\n        animals = await fetchAllAnimals(page);\n      }   \n\n      renderAnimals(animals);\n      renderPagination();\n      window.scrollTo({\n          top: refs.petsList.offsetTop - 80,\n          behavior: 'smooth',\n      });\n  } catch (error) {\n      iziToast.error({\n          title: 'Помилка',\n          message: 'Щось пішло не так',\n          position: 'topRight',\n      })\n  } finally {\n    hideLoader();\n    refs.loader.classList.remove('loader-center');\n    saveToLS('page', page);\n  }\n}\n\nfunction handlePetsListClick(e) {\n  const btn = e.target.closest('.pets-button');\n  if (!btn) return;\n\n  const card = btn.closest('li');\n  if (!card) return;\n  const id = card.dataset.id;\n  openAnimalModal(id);\n}\n\n\n// ----------------- API -----------------\n\nasync function fetchAllCategories(page) {\n    const response = await server.get(`${ENDPOINTS.categories}`);   \n    return response.data;\n}\n\nasync function fetchAllAnimals(page) {\n    const response = await server.get(`${ENDPOINTS.animals}`, {\n        params: {\n            limit: limit,\n            page: page\n        }\n    });\n\n    totalItems = response.data.totalItems;\n    return response.data.animals; \n}\n\nasync function fetchCategoryById(id, page) {\n    const response = await server.get(`${ENDPOINTS.animals}?categoryId=${id}`, {\n        params: {\n        limit: limit,\n        page: page\n        }\n    });\n    totalItems = response.data.totalItems;\n    return response.data.animals;\n}\n\n\n\n// ----------------- render -----------------\n\nfunction categoryTemplate(category) {\n    return `\n     <li class=\"category-item\" data-id=\"${category._id}\">\n        <button class=\"category-btn\" data-text=\"${category.name}\" type=\"button\">${category.name}</button>\n      </li>`\n}\n\nfunction categoriesTemplate(categories) {\n    return categories.reverse().map(categoryTemplate).join('');\n}\n\nfunction renderCategories(categories) {\n    const isAllActive = !categoryId;\n    const markup =` <li class=\"category-item\">\n        <button class=\"category-btn current\" type=\"button\">Всі</button>\n      </li>${categoriesTemplate(categories)}`;\n\n    refs.categoryList.innerHTML = markup;  \n}\n\nfunction animalTemplate({ _id, name, image, species, age, gender, categories, description }) {\n    const categoriesMarkup = categories\n        .map(category => `<li class=\"pets-category-item\">${category.name}</li>`)\n        .join('');\n    \n    return `\n     <li class=\"pets-item\" data-id=\"${_id}\" tabindex=\"0\">\n     <div class=\"pets-img-wrapper\"><img class=\"pets-img\" src=\"${image}\" alt=\"${name} - ${species}\" /></div>\n        <div class=\"pets-list-wrapper\">\n          <p class=\"pets-category\">${species}</p>\n          <h3 class=\"pets-name\">${name}</h3>\n          <ul class=\"pets-category-list\">${categoriesMarkup}</ul>\n          <div class=\"descriprion-wrapper\">\n            <ul class=\"descriprion-list\">\n              <li class=\"descriprion-item\">${age}</li>\n              <li class=\"descriprion-item\">${gender}</li>\n            </ul>\n            <p class=\"pets-descriprion\">${description}</p>\n            <button class=\"pets-button\" type=\"button\">Дізнатись більше</button>\n          </div>\n        </div>\n      </li>`\n}\n\nfunction animalsTemplate(animals) {\n    return animals.map(animalTemplate).join('');\n}\n\nfunction renderAnimals(animals) {\n  const markup = animalsTemplate(animals);\n  refs.petsList.innerHTML = markup;\n  saveToLS('animals', animals);\n}\n\nfunction renderPagination() {\n  const totalPages = getTotalPages();\n  if (totalPages <= 1) return;\n\n  let markup = '';\n\n  markup += `<li>\n      <button class=\"pagination-btn-arrow\" data-action=\"prev\" aria-label=\"Попередня сторінка\" ${page === 1 ? 'disabled' : ''}>\n        <svg class=\"arrow-icon\" aria-hidden=\"true\" width=\"24\" height=\"24\">\n          <use href=\"${spriteUrl}#icon-arrow-back\"></use>\n        </svg>\n      </button>\n    </li>`;\n\n  if (page === 1) {\n    for (let i = 1; i <= Math.min(3, totalPages); i += 1) {\n      markup += pageButton(i);\n    }\n      if (totalPages > 3) {\n      markup += `<li class=\"dots\">…</li>`;\n      markup += pageButton(totalPages);\n    }\n  } else {\n      markup += pageButton(1);\n\n    if (page > 3) {\n      markup += `<li class=\"dots\">…</li>`;\n    }\n\n    for (let i = page - 1; i <= page + 1; i += 1) {\n      if (i > 1 && i < totalPages) {\n        markup += pageButton(i);\n      }\n    }\n\n    if (page < totalPages - 2) {\n      markup += `<li class=\"dots\">…</li>`;\n    }\n\n    if (totalPages > 1) {\n      markup += pageButton(totalPages);\n    }\n  }\n\n  markup += `<li>\n      <button class=\"pagination-btn-arrow\" data-action=\"next\" aria-label=\"Наступна сторінка\" ${page === totalPages ? 'disabled' : ''}>\n        <svg class=\"arrow-icon\" aria-hidden=\"true\" width=\"24\" height=\"24\">\n          <use href=\"${spriteUrl}#icon-arrow-forward\"></use>\n        </svg>\n      </button>\n    </li>`;\n\n  refs.petsListPagination.innerHTML = markup;\n}\n\nfunction pageButton(pageNumber) {\n  return `\n    <li>\n      <button\n        class=\"pagination-btn ${page === pageNumber ? 'current' : ''}\"\n        aria-label=\"Сторінка ${pageNumber}\"\n        data-page=\"${pageNumber}\">\n        ${pageNumber}\n      </button>\n    </li>\n  `;\n}\n\n// --------------- loader ---------------\n\nfunction showLoader() {\n    refs.loader.classList.remove('loader-hidden');\n}\n\nfunction hideLoader() {\n    refs.loader.classList.add('loader-hidden');\n}\n\n\n// --------------- load more btn ---------------\n\nfunction showLoadBtn() {\n    refs.petsLoadMoreBtn.classList.remove('pets-load-more-btn-hidden')\n}\n\nfunction hideLoadBtn() {\n    refs.petsLoadMoreBtn.classList.add('pets-load-more-btn-hidden')\n}\n\nfunction checkLoadMoreBtnStatus() {\n    const totalPages = getTotalPages();\n      if (page >= totalPages) {\n        hideLoadBtn();\n    } else {\n        showLoadBtn();\n    }\n}\n\n\n","import Swiper from 'swiper';\nimport { Navigation, Pagination } from 'swiper/modules';\nimport 'swiper/css/navigation';\nimport 'swiper/css/pagination';\nimport 'swiper/css';\n\nlet aboutUsSwiper = null;\n\nfunction updateNavigationState(swiper) {\n  let prevBtn = null;\n  let nextBtn = null;\n\n  const navPrev = swiper?.navigation?.prevEl;\n  const navNext = swiper?.navigation?.nextEl;\n  if (navPrev) prevBtn = Array.isArray(navPrev) ? navPrev[0] : navPrev;\n  if (navNext) nextBtn = Array.isArray(navNext) ? navNext[0] : navNext;\n\n  const root = swiper?.el || swiper?.$el || null;\n  if (root) {\n    const parent = root.closest('.about-swiper-parent');\n    if (parent) {\n      prevBtn = prevBtn || parent.querySelector('.about-swiper-button-prev');\n      nextBtn = nextBtn || parent.querySelector('.about-swiper-button-next');\n    }\n  }\n\n  if (prevBtn) {\n    const disabled = !!swiper?.isBeginning;\n    prevBtn.disabled = disabled;\n    prevBtn.classList.toggle('swiper-button-disabled', disabled);\n    prevBtn.setAttribute('aria-disabled', disabled ? 'true' : 'false');\n  }\n  if (nextBtn) {\n    const disabled = !!swiper?.isEnd;\n    nextBtn.disabled = disabled;\n    nextBtn.classList.toggle('swiper-button-disabled', disabled);\n    nextBtn.setAttribute('aria-disabled', disabled ? 'true' : 'false');\n  }\n}\n\nfunction initAboutUsSwiper() {\n  const container = document.querySelector('.mySwiper');\n  if (!container) return null;\n  if (container.swiper) {\n    try {\n      container.swiper.destroy(true, true);\n    } catch (e) {}\n  }\n\n  const parent = container.closest('.about-swiper-parent');\n  if (!parent) return null;\n  const nextBtnEl = parent.querySelector('.about-swiper-button-next');\n  const prevBtnEl = parent.querySelector('.about-swiper-button-prev');\n  const paginationEl = parent.querySelector('.about-swiper-pagination');\n\n  const swiper = new Swiper(container, {\n    modules: [Navigation, Pagination],\n    loop: false,\n    wrapperClass: 'about-swiper-wrapper',\n    slideClass: 'about-swiper-slide',\n    pagination: {\n      el: paginationEl,\n      clickable: true,\n    },\n    slidesPerView: 1,\n    spaceBetween: 0,\n    breakpoints: {\n      768: {\n        slidesPerView: 1,\n      },\n    },\n    on: {\n      init(s) {\n        updateNavigationState(s);\n      },\n      slideChange() {\n        updateNavigationState(swiper);\n      },\n    },\n  });\n\n  const addNavHandler = (btnEl, handlerName, fn) => {\n    if (!btnEl) return;\n\n    const prev = btnEl[handlerName];\n    if (prev) {\n      try {\n        btnEl.removeEventListener('click', prev);\n      } catch (e) {}\n    }\n    btnEl[handlerName] = fn;\n    btnEl.addEventListener('click', fn);\n  };\n\n  addNavHandler(nextBtnEl, '_aboutUsNext', e => {\n    e.preventDefault();\n    swiper.slideNext();\n    updateNavigationState(swiper);\n  });\n\n  addNavHandler(prevBtnEl, '_aboutUsPrev', e => {\n    e.preventDefault();\n    swiper.slidePrev();\n    updateNavigationState(swiper);\n  });\n\n  updateNavigationState(swiper);\n  return swiper;\n}\n\nfunction runInit() {\n  if (aboutUsSwiper) {\n    try {\n      aboutUsSwiper.destroy(true, true);\n    } catch (e) {}\n    aboutUsSwiper = null;\n  }\n\n  aboutUsSwiper = initAboutUsSwiper();\n}\n\nif (document.readyState === 'loading') {\n  document.addEventListener('DOMContentLoaded', runInit);\n} else {\n  runInit();\n}\n","// Секція \"Все, що ви хотіли знати\"\nimport Accordion from 'accordion-js';\n\nconst faqAccordion = new Accordion('.accordion-container', {\n  showMultiple: false,\n  collapse: true,\n  duration: 300,\n\n  onOpen(current) {\n    const panel = current.querySelector('.ac-panel');\n    if (!panel) return;\n\n    const rect = panel.getBoundingClientRect();\n    if (rect.bottom > window.innerHeight) {\n      const hiddenHeight = rect.bottom - window.innerHeight + 20;\n      window.scrollBy({ top: hiddenHeight, behavior: 'smooth' });\n    }\n  },\n});\n\nconst faqButtons = document.querySelectorAll('.faq-question-btn');\n\nfaqButtons.forEach(button => {\n  button.addEventListener('click', () => {\n    const expanded = button.getAttribute('aria-expanded') === 'true';\n\n    button.setAttribute(\n      'aria-label',\n      expanded ? 'Закрити відповідь' : 'Відкрити відповідь'\n    );\n  });\n});\n","import Raty from 'raty-js';\nimport 'raty-js/src/raty.css';\n\nexport function renderStories(stories) {\n  const swiperWrapper = document.querySelector('.swiper-wrapper');\n\n  const markup = stories\n    .map(\n      ({ description, rate, author }) =>\n        `\n        <div class=\"swiper-slide\">\n          <div class=\"star-rating\" data-score=\"${rate}\"></div>     \n            <p class=\"storie-text\">${description}</p>\n            <p class=\"storie-names\">${author}</p>  \n        </div>`\n    )\n    .join('');\n\n  swiperWrapper.insertAdjacentHTML('beforeend', markup);\n\n  document.querySelectorAll('.star-rating').forEach(rating => {\n    const raty = new Raty(rating, {\n      starType: 'svg',\n      readOnly: true,\n    });\n    raty.init();\n  });\n}","import Swiper from 'swiper/bundle';\nimport 'swiper/css/bundle';\nimport { getStories } from './server-api';\nimport { renderStories } from './success-stories-rndr';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst loader = document.querySelector('.stories-loader');\nconst controls = document.querySelector('.swiper-controls');\n\nexport function showError(error) {\n  iziToast.info({\n    message: error,\n    position: 'topRight',\n    color: '#f2aaaaff',\n    icon: false,\n    progressBar: false,\n    messageColor: 'black',\n  });\n}\n\nfunction hideLoader() {\n  loader.classList.remove('loader');\n}\n\nfunction showLoader() {\n  loader.classList.add('loader');\n}\n\nfunction hideControls() {\n  controls.classList.add('visually-hidden');\n}\n\nfunction showControls() {\n  controls.classList.remove('visually-hidden');\n}\n\nwindow.addEventListener('DOMContentLoaded', async () => {\n  showLoader();\n  try {\n    let storiesList = await getStories();\n\n    if (storiesList === null) {\n      showError('Не вдалося завантажити історії. Спробуйте пізніше');\n      hideLoader();\n      const wrapper = document.querySelector('.swiper-wrapper');\n      if (wrapper) {\n        wrapper.innerHTML =\n          '<p class=\"error-swiper\">Не вдалося завантажити історії</p>';\n      }\n      return;\n    }\n\n    if (storiesList.length === 0) {\n      showError('Нажаль, історії зараз недоступні');\n      hideLoader();\n      const wrapper = document.querySelector('.swiper-wrapper');\n      if (wrapper) {\n        wrapper.innerHTML =\n          '<p class=\"error-swiper\">Нажаль, історії зараз недоступні</p>';\n      }\n      return;\n    }\n\n    renderStories(storiesList);\n\n    const swiper = new Swiper('.swiper', {\n      direction: 'horizontal',\n      loop: false,\n      speed: 400,\n      spaceBetween: 32,\n\n      pagination: {\n        el: '.swiper-pagination',\n        clickable: true,\n        dynamicBullets: false,\n      },\n\n      navigation: {\n        nextEl: '.swiper-button-next',\n        prevEl: '.swiper-button-prev',\n      },\n\n      breakpoints: {\n        768: {\n          slidesPerView: 2,\n        },\n      },\n    });\n\n    showControls();\n    hideLoader();\n  } catch (err) {\n    showError('Cталась помилка. Спробуйте пізніше');\n    const wrapper = document.querySelector('.swiper-wrapper');\n    if (wrapper) {\n      wrapper.innerHTML =\n        '<p class=\"error-swiper\">Нажаль, історії зараз недоступні</p>';\n    }\n    hideLoader();\n  }\n});","export let lastFocusedElement = null;\n\nexport function setLastFocusedElement(el) {\n  lastFocusedElement = el;\n}\n\nexport function getLastFocusedElement() {\n  return lastFocusedElement;\n}\n","import axios from 'axios';\nimport Swal from 'sweetalert2';\nimport { refs } from './refs';\nimport { trapFocus } from './animal-details-modal';\nimport { getLastFocusedElement, setLastFocusedElement } from './focus';\n// Модальне вікно «Залишіть заявку»\nlet animal;\nconst formOrder = document.getElementById('order-form');\nconst modalWindow = document.getElementById('modal-order');\nconst closeModalOrderBtn = modalWindow.querySelector('.modal-close-btn');\nwindow.addEventListener('open-order-modal', (e) => {\n  const id = e?.detail?.animalId;\n  if (!id) return;\n  animal = id;\n  // закриваємо детальну модалку (backdrop)\n  if (refs && refs.animalDetailsBackdrop) {\n    refs.animalDetailsBackdrop.classList.remove('is-open');\n  }\n  document.body.style.overflow = '';\n  modalWindow.classList.remove('visually-hidden');\n  document.body.classList.add('modal-open');\n  window.addEventListener('keydown', onEscapePress);\n  const form = document.querySelector('.modal-order');\n  trapFocus(form);\n});\n\nfunction openModalOrder() {\n  modalWindow.classList.remove('visually-hidden');\n  document.body.classList.add('modal-open');\n  window.addEventListener('keydown', onEscapePress);\n}\n\nfunction closeModalAnimal() {\n  if (refs && refs.animalDetailsBackdrop) {\n    refs.animalDetailsBackdrop.classList.remove('is-open');\n  }\n  document.body.style.overflow = '';\n}\n\nfunction closeModalOrder() {\n  modalWindow.classList.add('visually-hidden');\n  document.body.classList.remove('modal-open');\n  window.removeEventListener('keydown', onEscapePress);\n  const lastFocused = getLastFocusedElement();\n  if (lastFocused) lastFocused.focus();\n}\n\nfunction onEscapePress(event) {\n  if (event.key === 'Escape') {\n    closeModalOrder();\n  }\n}\n\nfunction onModalClick(event) {\n  if (event.target === modalWindow) {\n    closeModalOrder();\n  }\n}\n\ncloseModalOrderBtn.addEventListener('click', closeModalOrder);\nmodalWindow.addEventListener('click', onModalClick);\n\nformOrder.addEventListener('submit', async event => {\n  event.preventDefault();\n  const {\n    name: nameEl,\n    phone: phoneEl,\n    comments: commentsEl,\n  } = event.target.elements;\n  const name = nameEl.value.trim();\n  let phone = phoneEl.value.trim();\n  const comments = commentsEl.value.trim();\n\n  // Очистка попередніх помилок\n  const errorInputs = formOrder.querySelectorAll('.input-error');\n  const errorTexts = formOrder.querySelectorAll('.error-text');\n  errorInputs.forEach(input => input.classList.remove('input-error'));\n  errorTexts.forEach(text => (text.textContent = ''));\n\n  // Валідація форми\n  if (name.length > 32) {\n    const nameInput = formOrder.querySelector('.modal-form-input[type=\"text\"]');\n    nameInput.classList.add('input-error');\n    nameInput.nextElementSibling.textContent =\n      \"Ім'я не повинно перевищувати 32 символи.\";\n    return;\n  }\n\n  const phonePattern = /^[0-9]{12}$/;\n  if (phone[0] === '+') {\n    phone = phone.slice(1);\n  }\n  if (phone.length !== 12) {\n    const phoneInput = formOrder.querySelector('.modal-form-input[type=\"tel\"]');\n    phoneInput.classList.add('input-error');\n    phoneInput.nextElementSibling.textContent =\n      'Телефон повинен містити 12 цифр.';\n    return;\n  }\n  if (!phonePattern.test(phone)) {\n    const phoneInput = formOrder.querySelector('.modal-form-input[type=\"tel\"]');\n    phoneInput.classList.add('input-error');\n    phoneInput.nextElementSibling.textContent =\n      'Телефон повинен містити лише цифри.';\n    return;\n  }\n\n  if (comments.length > 255) {\n    const commentsInput = formOrder.querySelector('.modal-form-textarea');\n    commentsInput.classList.add('input-error');\n    commentsInput.nextElementSibling.textContent =\n      'Коментар не повинен перевищувати 255 символів.';\n    return;\n  }\n\n  const formData = {\n    name: name,\n    phone: phone,\n    animalId: animal,\n    comment: comments.length > 0 ? comments : 'Без коментарів',\n  };\n\n  try {\n    const response = await axios.post(\n      'https://paw-hut.b.goit.study/api/orders',\n      formData\n    );\n\n    const orderData = response.data;\n    closeModalOrder();\n        \n     Swal.fire({\n      title: 'Дякуємо за вашу заявку!',\n      icon: 'success',\n      confirmButtonText: 'Закрити',\n    }).then(() => {\n      const focusedEl = getLastFocusedElement();\n      if (focusedEl) focusedEl.focus();\n    });\n\n    event.target.reset();\n  \n    return orderData;\n  } catch (error) {\n    Swal.fire({\n      title: 'Помилка!',\n      text: 'Сталася помилка при надсиланні заявки. Спробуйте ще раз пізніше.',\n      icon: 'error',\n      confirmButtonText: 'Закрити',\n    });\n    console.error('Error submitting order:', error);\n  }\n});\n","function initScrollTop() {\n    const scrollBtn = document.getElementById('scrollTopBtn');\n    const heroSection = document.querySelector('#hero');\n\n    if (!scrollBtn || !heroSection) return;\n\n    const heroHeight = heroSection.offsetHeight;\n\nwindow.addEventListener('scroll', () => {\n    if (window.scrollY > heroHeight) {\n        scrollBtn.classList.add('show');\n    } else {\n        scrollBtn.classList.remove('show');\n    }\n});\n\nscrollBtn.addEventListener('click', () => {\n    window.scrollTo({\n        top: 0,\n        behavior: 'smooth',\n    });\n});\n}\n\nwindow.addEventListener('load', initScrollTop);\n"],"names":["refs","storiesParams","spriteUrl","saveToLS","key","value","error","loadFromLS","data","handleBackdropClick","openAnimalModal","id","animal","renderModal","closeBtn","handleEscPress","handleCloseModalBtn","adoptBtn","_id","name","image","species","age","gender","description","healthStatus","behavior","markup","lastFocused","trapFocus","modal","focusableElements","firstEl","lastEl","e","menuButton","closeButton","nav","takeButton","closeModal","event","handleEscape","BASE_URL","ENDPOINTS","server","axios","getStories","page","validLimit","validPage","limit","getLimitByScreen","totalItems","categoryId","handleContentLoad","handleLoadMoreBtnClick","handleCategoryBtnClick","handlePaginationClick","handlePetsListClick","getTotalPages","showLoader","categories","fetchAllCategories","animals","fetchAllAnimals","renderCategories","renderAnimals","renderPagination","checkLoadMoreBtnStatus","iziToast","hideLoader","categoryName","btn","fetchCategoryById","animalsTemplate","firstCard","cardRect","totalPages","card","response","categoryTemplate","category","categoriesTemplate","animalTemplate","categoriesMarkup","i","pageButton","pageNumber","showLoadBtn","hideLoadBtn","aboutUsSwiper","updateNavigationState","swiper","prevBtn","nextBtn","navPrev","_a","navNext","_b","root","parent","disabled","initAboutUsSwiper","container","nextBtnEl","prevBtnEl","paginationEl","Swiper","Navigation","Pagination","s","addNavHandler","btnEl","handlerName","fn","prev","runInit","Accordion","current","panel","rect","hiddenHeight","faqButtons","button","expanded","renderStories","stories","swiperWrapper","rate","author","rating","Raty","loader","controls","showError","showControls","storiesList","wrapper","lastFocusedElement","getLastFocusedElement","formOrder","modalWindow","closeModalOrderBtn","onEscapePress","form","closeModalOrder","onModalClick","nameEl","phoneEl","commentsEl","phone","comments","errorInputs","errorTexts","input","text","nameInput","phonePattern","phoneInput","commentsInput","formData","orderData","Swal","focusedEl","initScrollTop","scrollBtn","heroSection","heroHeight"],"mappings":"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"}